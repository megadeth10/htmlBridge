<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Device Redirect</title>
    <script>
        function getQueryParam(name) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(name);
        }

        function redirectToPlatform() {
            const id = getQueryParam('id');
            const baseEventUrl = "https://allnew-dev.shipbaesong.com/support/event/" // 운영으로 변경해야함.
            let redirectUrl = ""; // 웹 이벤트 URL
            let platform = ""
            if (/android/i.test(navigator.userAgent)) {
                if (id) {
                    redirectUrl = "deleo://shipbaesong/?p1=${encodeURIComponent(id)}";
                }
                platform = "AOS"
            } else if (/iPhone|iPad|iPod/i.test(navigator.userAgent)) {
                if (id) {
                    redirectUrl = "${baseEventUrl}${encodeURIComponent(id)}"
                }
                platform = "IOS"
            } else {
                if (id) {
                    redirectUrl = "${baseEventUrl}${encodeURIComponent(id)}"
                }
                platform = "Web"
            }

            document.getElementById("userAgent").textContent = platform;

            window.location.href = redirectUrl;
        }

        window.onload = redirectToPlatform;

    </script>
</head>
<body>
<p>Redirecting...</p>
<p>User Agent: <span id="userAgent"></span></p>
</body>
</html>
<!--url https://megadeth10.github.io/HtmlBridge -->